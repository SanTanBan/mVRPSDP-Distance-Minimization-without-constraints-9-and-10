%\documentclass[a4paper,11pt,twocolumn]{article}
\documentclass[a4paper,11pt]{article}
\usepackage{multicol}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}

%Comment is percentage here
\title{Multiple Heterogeneous Vehicle Routing Problem allowing Simultaneous Delivery and Pick-up from Single Depot while minimizing the Distance travelled by all vehicles to complete the entire operation}
\begin{document}
\maketitle

\begin{multicols}{2}
\section*{Introduction}
\> In this problem, we have a single depot with multiple types of vehicles which shall cater to demands at the relief centres (nodes) as well as pickup evacuees in case of emergency and disasters. Each Vehicle Type consists of homogeneous vehicles and the below data is from the paper being considered.
\end{multicols}

\section*{Inputs required}

\begin{enumerate}
\item Table 1. Indicating Depot-Vehicle Specifications

\begin{tabular}{ |p{1.125cm}|p{1.5cm}|p{1.375cm}|p{1.25cm}|p{1.125cm}|p{4cm}|  }
\hline
\multicolumn{6}{|c|}{Sample Vehicle details at the Depot} \\
\hline Vehicle Type [VT] & Number of this type of Vehicles [VN] & Capacity [VQ] & Variable Cost [VS] & Fixed Cost [VC] & Layers differentiating attributes w.r.t. OpenStreetMaps (Road~Vehicle Compatibility for generating appropriate layers from the original Network)  \\
\hline V1 & 1 & 350 & 1 & 50 & highway = Motorway, Trunk, Primary, Secondary, Tertiary \\
\hline V2 & 1 & 450 & 1.04 & 80 & highway = Motorway, Trunk \\
\hline V3 & 1 & 600 & 1.08 & 120 & highway = Motorway, Trunk, Primary, Secondary, Tertiary, Unclassified, Residential \\
\hline V4 & 1 & 800 & 1.14 & 150 & highway = Motorway, Trunk, Primary \\
\hline
\end{tabular}

\item Table 2. Indicating PickUp \& Delivery details at the Nodes

\begin{tabular}{ |p{2.5cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|  }
\hline
\multicolumn{5}{|c|}{Sample Node Details} \\
\hline Node Number & Latitude & Longitude & PickUp & \multirow{Delivery}   \\
\cline {1-6}
0 [ Warehouse / Depot ] & 81.5397 & 58.2791 & [p] & [d] \\
\hline 1 & 98.8912 & 87.9014 & 69.9888 & 69.5949 \\
\hline 2 & 86.5439 & 0.0522 & 3.3604 & 63.8531 \\
\hline \vdots & \vdots & \vdots & \vdots & \vdots \\
\hline 34 & 14.2041 & 10.5709 & 76.55 & 26.9062 \\
\hline 35 & 62.0959 & 16.646 & 28.7498 & 18.8662 \\
\hline
\end{tabular}

\item Table 3. Distance Matrices for each type of vehicle (i.e. for each k). Here certain distance matrices shall be repeated for multiple vehicles in the same category/type.

\end{enumerate}

\section*{This formulation allows only single vehicles to visit each node {similar to the original disaggregated formulation considering homogeneous vehicles  as mentioned in Amico, Righini \& Salani 2006 as well as for heterogeneous vehicles as in Avci & Topaloglu 2016}:- }

Network layers are specific to vehicle types such that each type of vehicle may be imagined to travel in its Type-Layer. Each layer can be be further improved with their individual vehicle-type specific variable costs.

\begin{enumerate}

\item Notations, Sets \& Decision Variables:
\begin{enumerate}
\item $N$ refers to the set of all Relief Centres, where $|N|=n$
\item $N_0$ refers to the extended set of all Relief Centres as well as including the Depot, where $|N_0|=n+1$
\item $k$ refers to the set of all Vehicle Types [VT]
\item $x_{ijk}$ is a binary variable which refers to the $k^{th}$ type of vehicle going from node $i$ to node $j$ on layer $k$, when it equals $1$. The network layers are generated for specific vehicles types according to their compatibility with the road.
\item $y_{ijk}$ refers to the amount of pickup (humans) being carried by a vehicle of type $k$ on its specific layer, also type $k$, between nodes $i$ and $j$.
\item Similarly $z_{ijk}$ refers to the amount of delivery (Food, Water, Medicine, Sanitary Items) being carried by a vehicle type of $k$, on its specific layer $k$, between nodes $i$ and $j$.
\item $C_{ijk}$ is the cost of vehicle of type $k$ travelling from node $i$ to node $j$. This may be imagined as the normal cost matrix/distance matrix being extended to different layers specific to vehicle types. These types will help in differentiating road types to check compatibility between vehicle and road. The general cost matrix will be generated by finding the shortest distance between two nodes in the specific layer. The initial network layer may be therefore filtered according to vehicle types so that the network layer for say Vehicle Type V2 may contain the road segments on which only V2 type vehicles will be able to travel. The cost matrix, which is to be generated will be the shortest distances for each of these specific layers which is further indicated by the suffix $k$ in $C_{ijk}$.

\end{enumerate}

\item Distance Minimization Objective Function:
$$\sum_{k \in VT}\sum_{i \in N_0}\sum_{j \in N_0}C_{ijk} x_{ijk}VS_{k}  + \sum_{j \in N}\sum_{k \in VT} x_{0jk}VC_{k}$$
Here $VS_{k}$ is a variable cost which may be compared to Distance dependant elements like fuel or emissions. $VC_{k}$ is the fixed cost which may be considered as the per tour expense towards maintaining and sending a crew consisting of the driver and personnel helping in Disaster Relief which may be considered the same for similar types of vehicles.

\item Constraints:
\begin{enumerate}
\item At most a single vehicle may attend any relief centre/node.
$$\sum_{j \in N_0}\sum_{k \in VT} x_{ijk}\leq 1 \hspace{23 mm} \forall i \in N$$
Removing this constraint shall not allow complete split delivery (for split delivery, each vehicle should have its own layer variables which is also necessary for time minimization), but allow some number of vehicles to tend to a node through different paths. This may also be considered since the result of this formulation without this constraint is better; and may be chosen as per real-scenarios by the operator.

\item Ensuring the same number of each type of vehicles entering any node also leaves it.
$$\sum_{j \in N_0}(x_{ijk}-x_{jik})=0 \hspace{23 mm} \forall k \in VT \quad\&\quad \forall i \in N_0$$

\item Ensuring at most $VN_{k}$ vehicles (where $VN$ denotes the Vehicle Number for the particular layer of vehicle type as per Table 1. above) are allowed to exit the depot for the specific vehicle layer types
$$\sum_{j \in N}x_{0jk}\leq VN_{k} \hspace{23 mm} \forall k \in VT$$

\item Flow limitation constraints of PickUp and Delivery are provided to get the exact flows within the respective flow variables of pickup and delivery.
\begin{enumerate}
    \item Assigning the value 0 to all outgoing pickup values from the Node
    $$y_{0jk}=0 \hspace{23 mm}\forall j \in N \quad\&\quad \forall k \in VT$$
    
    \item Assigning the value 0 to all incoming delivery values from the Node
    $$z_{i0k}=0 \hspace{23 mm}\forall i \in N \quad\&\quad \forall k \in VT$$
\end{enumerate}

\item Flow Equations for each Relief Centre
\begin{enumerate} 
\item Ensuring the pickup constraints are satisfied
$$\sum_{k \in VT}\sum_{j \in N_0}(y_{ijk}-y_{jik}) = p_{i} \hspace{23 mm} \forall i \in N$$
\item Ensuring the delivery constraints are satisfied
$$\sum_{k \in VT}\sum_{j \in N_0}(z_{jik}-z_{ijk}) = d_{i} \hspace{23 mm} \forall i \in N$$
\end{enumerate}

\item Limiting the vehicle capacities according to the vehicle types
$$y_{ijk}+z_{ijk} \leq x_{ijk}VQ_{k} \hspace{23 mm} \forall i,j \in N_0 \quad\&\quad k \in VT$$

\item Variable Constraints
$$y_{ijk},z_{ijk}\geq0  \hspace{23 mm}\forall i,j \in N_0 \quad\&\quad k \in VT$$
$$x_{ijk}=\{0,1\}  \hspace{23 mm}\forall i,j \in N_0 \quad\&\quad k \in VT$$


\end{enumerate}
\end{enumerate}

\section*{References}
\begin{enumerate}
    \item Avci, Mustafa, and Seyda Topaloglu. "A hybrid metaheuristic algorithm for heterogeneous vehicle routing problem with simultaneous pickup and delivery." Expert Systems with Applications 53 (2016): 160-171.
\end{enumerate}
\end{document}